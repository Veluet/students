{"remainingRequest":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/babel-loader/lib/index.js!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/src/views/Home.vue","mtime":1632750221740},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/cache-loader/dist/cjs.js","mtime":1632346226385},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/babel-loader/lib/index.js","mtime":1632346213603},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/cache-loader/dist/cjs.js","mtime":1632346226385},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/vue-loader-v16/dist/index.js","mtime":1632346227724}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5lcHNpbG9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IG1haW5IZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9tYWluSGVhZGVyIjsKaW1wb3J0IHNjaG9vbFllYXJzIGZyb20gIi4uL2NvbXBvbmVudHMvc2Nob29sWWVhcnMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIG1haW5IZWFkZXI6IG1haW5IZWFkZXIsCiAgICBzY2hvb2xZZWFyczogc2Nob29sWWVhcnMKICB9LAogIHByb3BzOiB7CiAgICB5ZWFyOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdHVkZW50czogW10sCiAgICAgIHllYXJzOiBbXSwKICAgICAgeWVhclJvd3M6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGFwaVVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAicHJvZHVjdGlvbiIgPyAiYXBpL1N0dWRlbnRzLmpzb24iIDogImh0dHA6Ly9hcGl0ZXN0LnNlcnRpZmkubmV0L2FwaS9TdHVkZW50cyI7CiAgICBheGlvcy5nZXQoYXBpVXJsKS50aGVuKGZ1bmN0aW9uIChzdHVkZW50cykgewogICAgICAvLyBNb3ZlIHJlc3BvbnNlIGludG8gbG9jYWwgdmFyaWFibGUuCiAgICAgIHZhciBzdHVkZW50RGF0YSA9IHN0dWRlbnRzLmRhdGE7CiAgICAgIC8qIFN0YXJ0OiBEZS1ub3JtYWxpemUgdGltZSEgKi8KICAgICAgLy8gRGUtbm9ybWFsaXppbmc6IFRoZSBHUEEgUmVjb3JkIEFycmF5IGluIHRoZSBzdHVkZW50cy5kYXRhCiAgICAgIC8vIE5ldzogQnVpbGQgYSBsaXN0IG9mIGFsbCBZZWFycwogICAgICAvLyBBZGRpbmc6ICBBdHRlbmRlbmNlIGJ5IHllYXIgZm9yIGVhY2ggc3R1ZGVudCBpbiBzdHVkZW50cy5kYXRhCiAgICAgIC8vIERlY2xhcmUgeWVhclJvd3M7IHVzZWQgdG8gcmV0dXJuIGNhbGN1bGF0ZWQgdmFsdWVzLgoKICAgICAgdmFyIHllYXJSb3dzID0ge307IC8vIERlY2xhcmUgYWxsWWVhcnM7IHVzZWQgdG8gZ2VuZXJhdGUgY29udGVudC4KCiAgICAgIHZhciBhbGxZZWFycyA9IFtdOyAvLyBEZWNsYXJlIGF0dGVuZGVuY2UgYnkgeWVhcgogICAgICAvLyB7CiAgICAgIC8vICAgIjIwMDEiOiB7CiAgICAgIC8vICAgICAic3R1ZGVudHMiOiBbeyJqb2huIiA6IHsicm9sbGluZ0dQQToiIDUuMH1dLAogICAgICAvLyAgICAgInJvbGxpbmdHUEEiOiA1LjAsMQogICAgICAvLyAgICAgfQogICAgICAvLyB9CgogICAgICBzdHVkZW50RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzdHVkZW50KSB7CiAgICAgICAgdmFyIHRoaXNTdHVkZW50ID0gc3R1ZGVudDsKICAgICAgICB2YXIgdGhpc1N0dWRlbnROYW1lID0gdGhpc1N0dWRlbnQuTmFtZTsKICAgICAgICB2YXIgYXR0ZW5kZWQgPSBbXTsKICAgICAgICBzdHVkZW50LkdQQVJlY29yZC5mb3JFYWNoKGZ1bmN0aW9uIChncGEsIGkpIHsKICAgICAgICAgIHZhciBjdXJyZW50WWVhciA9IHRoaXNTdHVkZW50LlN0YXJ0WWVhciArIGk7CiAgICAgICAgICBpZiAoIWFsbFllYXJzLmluY2x1ZGVzKGN1cnJlbnRZZWFyKSkgYWxsWWVhcnMucHVzaChjdXJyZW50WWVhcik7CiAgICAgICAgICBhdHRlbmRlZC5wdXNoKGN1cnJlbnRZZWFyKTsgLy8gQ3JlYXRlIHRoZSB5ZWFyIGVudHJ5IGlmIGl0IGRvZXNuJ3QgZXhpc3QgaW4geWVhclJvd3MuCgogICAgICAgICAgaWYgKCEoY3VycmVudFllYXIgaW4geWVhclJvd3MpKSB7CiAgICAgICAgICAgIHllYXJSb3dzW2N1cnJlbnRZZWFyXSA9IHsKICAgICAgICAgICAgICBzdHVkZW50czogW3RoaXNTdHVkZW50TmFtZV0sCiAgICAgICAgICAgICAgZ3BhczogW2dwYV0sCiAgICAgICAgICAgICAgc3R1ZGVudFJvd3M6IHt9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHllYXJSb3dzW2N1cnJlbnRZZWFyXS5zdHVkZW50Um93c1t0aGlzU3R1ZGVudE5hbWVdID0gewogICAgICAgICAgICAgIE5hbWU6IHRoaXNTdHVkZW50TmFtZSwKICAgICAgICAgICAgICBHUEE6IGdwYQogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IC8vIENyZWF0ZSB0aGUgc3R1ZGVudCBlbnRyeSBpZiBpdCBkb2Vzbid0IGV4aXN0IGluIHllYXJSb3dzCgoKICAgICAgICAgIGlmICgheWVhclJvd3NbY3VycmVudFllYXJdLnN0dWRlbnRzLmluY2x1ZGVzKHRoaXNTdHVkZW50Lk5hbWUpKSB7CiAgICAgICAgICAgIHllYXJSb3dzW2N1cnJlbnRZZWFyXS5zdHVkZW50cy5wdXNoKHRoaXNTdHVkZW50Lk5hbWUpOwogICAgICAgICAgICB5ZWFyUm93c1tjdXJyZW50WWVhcl0uc3R1ZGVudFJvd3NbdGhpc1N0dWRlbnROYW1lXSA9IHsKICAgICAgICAgICAgICBOYW1lOiB0aGlzU3R1ZGVudE5hbWUsCiAgICAgICAgICAgICAgR1BBOiBncGEKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gLy8gQ3JlYXRlIHRoZSBncGEgZW50cnksIGl0IGRvZXNuJ3QgZXhpc3QgeWV0IQoKCiAgICAgICAgICB5ZWFyUm93c1tjdXJyZW50WWVhcl0uZ3Bhcy5wdXNoKGdwYSk7CiAgICAgICAgfSk7CiAgICAgICAgc3R1ZGVudC5hdmVyYWdlR1BBID0gc3R1ZGVudC5HUEFSZWNvcmQucmVkdWNlKGZ1bmN0aW9uIChhLCB2LCBpKSB7CiAgICAgICAgICByZXR1cm4gKGEgKiBpICsgdikgLyAoaSArIDEpOwogICAgICAgIH0pOwogICAgICAgIHN0dWRlbnQuYXR0ZW5kZWQgPSBhdHRlbmRlZDsKICAgICAgfSk7IC8vIFNvcnQgYWxsIHllYXJzIGZyb20gb2xkZXN0IHRvIG5ld2VzdC4KCiAgICAgIF90aGlzLnllYXJzID0gYWxsWWVhcnMuc29ydCgpOwoKICAgICAgZm9yICh2YXIgeWVhciBpbiB5ZWFyUm93cykgewogICAgICAgIHllYXJSb3dzW3llYXJdLmF0dGVuZGVuY2UgPSB5ZWFyUm93c1t5ZWFyXS5zdHVkZW50cy5sZW5ndGg7CiAgICAgICAgdmFyIGF2ZXJhZ2VHUEEgPSB5ZWFyUm93c1t5ZWFyXS5ncGFzLnJlZHVjZShmdW5jdGlvbiAoYSwgdiwgaSkgewogICAgICAgICAgcmV0dXJuIChhICogaSArIHYpIC8gKGkgKyAxKTsKICAgICAgICB9KTsKICAgICAgICB5ZWFyUm93c1t5ZWFyXS5hdmVyYWdlR1BBID0gTWF0aC5yb3VuZCgoYXZlcmFnZUdQQSArIE51bWJlci5FUFNJTE9OKSAqIDEwMCkgLyAxMDA7CiAgICAgIH0KCiAgICAgIF90aGlzLnllYXJSb3dzID0geWVhclJvd3M7CiAgICAgIC8qIEVuZDogRGUtbm9ybWFsaXplIHRpbWUhICovCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/Users/marceline/Dropbox/ssnull/vue-apps/github/students/src/views/Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home container mx-auto px-4\" id=\"top\">\n    <main-header />\n    <div class=\"md:grid md:grid-flow-col md:grid-cols-2 md:gap-2\">\n      <school-years :students=\"students\" :years=\"years\" :yearRows=\"yearRows\" />\n      <router-view :yearRows=\"yearRows\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport mainHeader from \"../components/mainHeader\";\nimport schoolYears from \"../components/schoolYears\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    mainHeader,\n    schoolYears,\n  },\n  props: {\n    year: String,\n  },\n  data() {\n    return {\n      students: [],\n      years: [],\n      yearRows: {},\n    };\n  },\n  created() {\n    \n    const apiUrl = process.env.NODE_ENV === \"production\" ? \"api/Students.json\" : \"http://apitest.sertifi.net/api/Students\";\n\n    axios.get(apiUrl).then((students) => {\n      // Move response into local variable.\n      let studentData = students.data;\n\n      /* Start: De-normalize time! */\n\n      // De-normalizing: The GPA Record Array in the students.data\n      // New: Build a list of all Years\n      // Adding:  Attendence by year for each student in students.data\n\n      // Declare yearRows; used to return calculated values.\n      let yearRows = {};\n\n      // Declare allYears; used to generate content.\n      let allYears = [];\n\n      // Declare attendence by year\n      // {\n      //   \"2001\": {\n      //     \"students\": [{\"john\" : {\"rollingGPA:\" 5.0}],\n      //     \"rollingGPA\": 5.0,1\n      //     }\n      // }\n\n      studentData.forEach((student) => {\n        const thisStudent = student;\n        const thisStudentName = thisStudent.Name;\n        let attended = [];\n\n        student.GPARecord.forEach((gpa, i) => {\n          const currentYear = thisStudent.StartYear + i;\n\n          if (!allYears.includes(currentYear)) allYears.push(currentYear);\n          attended.push(currentYear);\n\n          // Create the year entry if it doesn't exist in yearRows.\n          if (!(currentYear in yearRows)) {\n            yearRows[currentYear] = {\n              students: [thisStudentName],\n              gpas: [gpa],\n              studentRows: {},\n            };\n\n            yearRows[currentYear].studentRows[thisStudentName] = {\n              Name: thisStudentName,\n              GPA: gpa,\n            };\n            return;\n          }\n\n          // Create the student entry if it doesn't exist in yearRows\n          if (!yearRows[currentYear].students.includes(thisStudent.Name)) {\n            yearRows[currentYear].students.push(thisStudent.Name);\n\n            yearRows[currentYear].studentRows[thisStudentName] = {\n              Name: thisStudentName,\n              GPA: gpa,\n            };\n          }\n\n          // Create the gpa entry, it doesn't exist yet!\n          yearRows[currentYear].gpas.push(gpa);\n        });\n\n        student.averageGPA = student.GPARecord.reduce(\n          (a, v, i) => (a * i + v) / (i + 1)\n        );\n\n        student.attended = attended;\n      });\n\n      // Sort all years from oldest to newest.\n      this.years = allYears.sort();\n\n      for (const year in yearRows) {\n        yearRows[year].attendence = yearRows[year].students.length;\n\n        const averageGPA = yearRows[year].gpas.reduce(\n          (a, v, i) => (a * i + v) / (i + 1)\n        );\n\n        yearRows[year].averageGPA =\n          Math.round((averageGPA + Number.EPSILON) * 100) / 100;\n      }\n\n      this.yearRows = yearRows;\n\n      /* End: De-normalize time! */\n    });\n  },\n};\n</script>\n"],"sourceRoot":""}]}