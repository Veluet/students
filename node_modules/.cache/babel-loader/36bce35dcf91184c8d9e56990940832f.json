{"remainingRequest":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/thread-loader/dist/cjs.js!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/babel-loader/lib/index.js!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/marceline/Dropbox/ssnull/vue-apps/github/students/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/src/views/Home.vue","mtime":1632751989598},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/cache-loader/dist/cjs.js","mtime":1632346226385},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/thread-loader/dist/cjs.js","mtime":1632346226607},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/babel-loader/lib/index.js","mtime":1632346213603},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/cache-loader/dist/cjs.js","mtime":1632346226385},{"path":"/Users/marceline/Dropbox/ssnull/vue-apps/github/students/node_modules/vue-loader-v16/dist/index.js","mtime":1632346227724}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5lcHNpbG9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IG1haW5IZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9tYWluSGVhZGVyIjsKaW1wb3J0IHNjaG9vbFllYXJzIGZyb20gIi4uL2NvbXBvbmVudHMvc2Nob29sWWVhcnMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIG1haW5IZWFkZXI6IG1haW5IZWFkZXIsCiAgICBzY2hvb2xZZWFyczogc2Nob29sWWVhcnMKICB9LAogIHByb3BzOiB7CiAgICB5ZWFyOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdHVkZW50czogW10sCiAgICAgIHllYXJzOiBbXSwKICAgICAgeWVhclJvd3M6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGFwaVVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfRU5WSVJPTk1FTlQgPT09ICJwcm9kdWN0aW9uIiA/ICJhcGkvU3R1ZGVudHMuanNvbiIgOiAiaHR0cDovL2FwaXRlc3Quc2VydGlmaS5uZXQvYXBpL1N0dWRlbnRzIjsKICAgIGF4aW9zLmdldChhcGlVcmwpLnRoZW4oZnVuY3Rpb24gKHN0dWRlbnRzKSB7CiAgICAgIC8vIE1vdmUgcmVzcG9uc2UgaW50byBsb2NhbCB2YXJpYWJsZS4KICAgICAgdmFyIHN0dWRlbnREYXRhID0gc3R1ZGVudHMuZGF0YTsKICAgICAgLyogU3RhcnQ6IERlLW5vcm1hbGl6ZSB0aW1lISAqLwogICAgICAvLyBEZS1ub3JtYWxpemluZzogVGhlIEdQQSBSZWNvcmQgQXJyYXkgaW4gdGhlIHN0dWRlbnRzLmRhdGEKICAgICAgLy8gTmV3OiBCdWlsZCBhIGxpc3Qgb2YgYWxsIFllYXJzCiAgICAgIC8vIEFkZGluZzogIEF0dGVuZGVuY2UgYnkgeWVhciBmb3IgZWFjaCBzdHVkZW50IGluIHN0dWRlbnRzLmRhdGEKICAgICAgLy8gRGVjbGFyZSB5ZWFyUm93czsgdXNlZCB0byByZXR1cm4gY2FsY3VsYXRlZCB2YWx1ZXMuCgogICAgICB2YXIgeWVhclJvd3MgPSB7fTsgLy8gRGVjbGFyZSBhbGxZZWFyczsgdXNlZCB0byBnZW5lcmF0ZSBjb250ZW50LgoKICAgICAgdmFyIGFsbFllYXJzID0gW107IC8vIERlY2xhcmUgYXR0ZW5kZW5jZSBieSB5ZWFyCiAgICAgIC8vIHsKICAgICAgLy8gICAiMjAwMSI6IHsKICAgICAgLy8gICAgICJzdHVkZW50cyI6IFt7ImpvaG4iIDogeyJyb2xsaW5nR1BBOiIgNS4wfV0sCiAgICAgIC8vICAgICAicm9sbGluZ0dQQSI6IDUuMCwxCiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0KCiAgICAgIHN0dWRlbnREYXRhLmZvckVhY2goZnVuY3Rpb24gKHN0dWRlbnQpIHsKICAgICAgICB2YXIgdGhpc1N0dWRlbnQgPSBzdHVkZW50OwogICAgICAgIHZhciB0aGlzU3R1ZGVudE5hbWUgPSB0aGlzU3R1ZGVudC5OYW1lOwogICAgICAgIHZhciBhdHRlbmRlZCA9IFtdOwogICAgICAgIHN0dWRlbnQuR1BBUmVjb3JkLmZvckVhY2goZnVuY3Rpb24gKGdwYSwgaSkgewogICAgICAgICAgdmFyIGN1cnJlbnRZZWFyID0gdGhpc1N0dWRlbnQuU3RhcnRZZWFyICsgaTsKICAgICAgICAgIGlmICghYWxsWWVhcnMuaW5jbHVkZXMoY3VycmVudFllYXIpKSBhbGxZZWFycy5wdXNoKGN1cnJlbnRZZWFyKTsKICAgICAgICAgIGF0dGVuZGVkLnB1c2goY3VycmVudFllYXIpOyAvLyBDcmVhdGUgdGhlIHllYXIgZW50cnkgaWYgaXQgZG9lc24ndCBleGlzdCBpbiB5ZWFyUm93cy4KCiAgICAgICAgICBpZiAoIShjdXJyZW50WWVhciBpbiB5ZWFyUm93cykpIHsKICAgICAgICAgICAgeWVhclJvd3NbY3VycmVudFllYXJdID0gewogICAgICAgICAgICAgIHN0dWRlbnRzOiBbdGhpc1N0dWRlbnROYW1lXSwKICAgICAgICAgICAgICBncGFzOiBbZ3BhXSwKICAgICAgICAgICAgICBzdHVkZW50Um93czoge30KICAgICAgICAgICAgfTsKICAgICAgICAgICAgeWVhclJvd3NbY3VycmVudFllYXJdLnN0dWRlbnRSb3dzW3RoaXNTdHVkZW50TmFtZV0gPSB7CiAgICAgICAgICAgICAgTmFtZTogdGhpc1N0dWRlbnROYW1lLAogICAgICAgICAgICAgIEdQQTogZ3BhCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gLy8gQ3JlYXRlIHRoZSBzdHVkZW50IGVudHJ5IGlmIGl0IGRvZXNuJ3QgZXhpc3QgaW4geWVhclJvd3MKCgogICAgICAgICAgaWYgKCF5ZWFyUm93c1tjdXJyZW50WWVhcl0uc3R1ZGVudHMuaW5jbHVkZXModGhpc1N0dWRlbnQuTmFtZSkpIHsKICAgICAgICAgICAgeWVhclJvd3NbY3VycmVudFllYXJdLnN0dWRlbnRzLnB1c2godGhpc1N0dWRlbnQuTmFtZSk7CiAgICAgICAgICAgIHllYXJSb3dzW2N1cnJlbnRZZWFyXS5zdHVkZW50Um93c1t0aGlzU3R1ZGVudE5hbWVdID0gewogICAgICAgICAgICAgIE5hbWU6IHRoaXNTdHVkZW50TmFtZSwKICAgICAgICAgICAgICBHUEE6IGdwYQogICAgICAgICAgICB9OwogICAgICAgICAgfSAvLyBDcmVhdGUgdGhlIGdwYSBlbnRyeSwgaXQgZG9lc24ndCBleGlzdCB5ZXQhCgoKICAgICAgICAgIHllYXJSb3dzW2N1cnJlbnRZZWFyXS5ncGFzLnB1c2goZ3BhKTsKICAgICAgICB9KTsKICAgICAgICBzdHVkZW50LmF2ZXJhZ2VHUEEgPSBzdHVkZW50LkdQQVJlY29yZC5yZWR1Y2UoZnVuY3Rpb24gKGEsIHYsIGkpIHsKICAgICAgICAgIHJldHVybiAoYSAqIGkgKyB2KSAvIChpICsgMSk7CiAgICAgICAgfSk7CiAgICAgICAgc3R1ZGVudC5hdHRlbmRlZCA9IGF0dGVuZGVkOwogICAgICB9KTsgLy8gU29ydCBhbGwgeWVhcnMgZnJvbSBvbGRlc3QgdG8gbmV3ZXN0LgoKICAgICAgX3RoaXMueWVhcnMgPSBhbGxZZWFycy5zb3J0KCk7CgogICAgICBmb3IgKHZhciB5ZWFyIGluIHllYXJSb3dzKSB7CiAgICAgICAgeWVhclJvd3NbeWVhcl0uYXR0ZW5kZW5jZSA9IHllYXJSb3dzW3llYXJdLnN0dWRlbnRzLmxlbmd0aDsKICAgICAgICB2YXIgYXZlcmFnZUdQQSA9IHllYXJSb3dzW3llYXJdLmdwYXMucmVkdWNlKGZ1bmN0aW9uIChhLCB2LCBpKSB7CiAgICAgICAgICByZXR1cm4gKGEgKiBpICsgdikgLyAoaSArIDEpOwogICAgICAgIH0pOwogICAgICAgIHllYXJSb3dzW3llYXJdLmF2ZXJhZ2VHUEEgPSBNYXRoLnJvdW5kKChhdmVyYWdlR1BBICsgTnVtYmVyLkVQU0lMT04pICogMTAwKSAvIDEwMDsKICAgICAgfQoKICAgICAgX3RoaXMueWVhclJvd3MgPSB5ZWFyUm93czsKICAgICAgLyogRW5kOiBEZS1ub3JtYWxpemUgdGltZSEgKi8KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["/Users/marceline/Dropbox/ssnull/vue-apps/github/students/src/views/Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home container mx-auto px-4\" id=\"top\">\n    <main-header />\n    <div class=\"md:grid md:grid-flow-col md:grid-cols-2 md:gap-2\">\n      <school-years :students=\"students\" :years=\"years\" :yearRows=\"yearRows\" />\n      <router-view :yearRows=\"yearRows\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport mainHeader from \"../components/mainHeader\";\nimport schoolYears from \"../components/schoolYears\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    mainHeader,\n    schoolYears,\n  },\n  props: {\n    year: String,\n  },\n  data() {\n    return {\n      students: [],\n      years: [],\n      yearRows: {},\n    };\n  },\n  created() {\n    const apiUrl =\n      process.env.VUE_APP_ENVIRONMENT === \"production\"\n        ? \"api/Students.json\"\n        : \"http://apitest.sertifi.net/api/Students\";\n\n    axios.get(apiUrl).then((students) => {\n      // Move response into local variable.\n      let studentData = students.data;\n\n      /* Start: De-normalize time! */\n\n      // De-normalizing: The GPA Record Array in the students.data\n      // New: Build a list of all Years\n      // Adding:  Attendence by year for each student in students.data\n\n      // Declare yearRows; used to return calculated values.\n      let yearRows = {};\n\n      // Declare allYears; used to generate content.\n      let allYears = [];\n\n      // Declare attendence by year\n      // {\n      //   \"2001\": {\n      //     \"students\": [{\"john\" : {\"rollingGPA:\" 5.0}],\n      //     \"rollingGPA\": 5.0,1\n      //     }\n      // }\n\n      studentData.forEach((student) => {\n        const thisStudent = student;\n        const thisStudentName = thisStudent.Name;\n        let attended = [];\n\n        student.GPARecord.forEach((gpa, i) => {\n          const currentYear = thisStudent.StartYear + i;\n\n          if (!allYears.includes(currentYear)) allYears.push(currentYear);\n          attended.push(currentYear);\n\n          // Create the year entry if it doesn't exist in yearRows.\n          if (!(currentYear in yearRows)) {\n            yearRows[currentYear] = {\n              students: [thisStudentName],\n              gpas: [gpa],\n              studentRows: {},\n            };\n\n            yearRows[currentYear].studentRows[thisStudentName] = {\n              Name: thisStudentName,\n              GPA: gpa,\n            };\n            return;\n          }\n\n          // Create the student entry if it doesn't exist in yearRows\n          if (!yearRows[currentYear].students.includes(thisStudent.Name)) {\n            yearRows[currentYear].students.push(thisStudent.Name);\n\n            yearRows[currentYear].studentRows[thisStudentName] = {\n              Name: thisStudentName,\n              GPA: gpa,\n            };\n          }\n\n          // Create the gpa entry, it doesn't exist yet!\n          yearRows[currentYear].gpas.push(gpa);\n        });\n\n        student.averageGPA = student.GPARecord.reduce(\n          (a, v, i) => (a * i + v) / (i + 1)\n        );\n\n        student.attended = attended;\n      });\n\n      // Sort all years from oldest to newest.\n      this.years = allYears.sort();\n\n      for (const year in yearRows) {\n        yearRows[year].attendence = yearRows[year].students.length;\n\n        const averageGPA = yearRows[year].gpas.reduce(\n          (a, v, i) => (a * i + v) / (i + 1)\n        );\n\n        yearRows[year].averageGPA =\n          Math.round((averageGPA + Number.EPSILON) * 100) / 100;\n      }\n\n      this.yearRows = yearRows;\n\n      /* End: De-normalize time! */\n    });\n  },\n};\n</script>\n"],"sourceRoot":""}]}